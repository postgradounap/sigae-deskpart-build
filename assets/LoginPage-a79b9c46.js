import{b as p,e as u,j as V,_ as M,g as t,a as z,u as N,k as d,l as m,d as y,m as P,n as Z,r as k,i as w,w as c,f as l,h as r,p as E,q as b,s as I,v as C,x as A,y as B,z as F,o as H,A as O}from"./index-5b01af3d.js";/* empty css                     */import{_ as q}from"./logoCuboWithText-9ac753d3.js";const J={xmlns:"http://www.w3.org/2000/svg",width:"952",height:"586","data-name":"Layer 1"},j=V('<path fill="#f1f1f1" d="M46.634 540.233a158.394 158.394 0 0 0 7.4 43.785c.1.329.21.653.319.982h27.613a57.493 57.493 0 0 1-.088-.982c-1.841-21.166 8.677-148.453 21.369-170.483-1.112 1.787-58.754 59.444-56.613 126.698Z" data-name="Path 133"></path><path fill="#f1f1f1" d="M48.706 584.018c.23.329.47.658.717.982h20.716l-.55-.982c-3.422-6.176-13.551-24.642-22.953-43.785-10.1-20.572-19.374-41.924-18.593-49.652-.242 1.742-7.234 54.876 20.663 93.437Z" data-name="Path 134"></path><path fill="#9f616a" d="M651.291 120.577a14.422 14.422 0 0 0 21.042 6.808l39.98 32.07 2.474-26.519-38.345-26.388a14.5 14.5 0 0 0-25.15 14.029Z"></path><path fill="#245fa6" d="m713.205 130.446-14.922-10.543-16.925 19.555 19.688 11.668 12.159-20.68z"></path><path fill="#3f3d56" d="m709.937 123.296 50.287 19.349 48.409-31.698a24.62 24.62 0 0 1 31.795 37.06l-.433.481-74.454 39.918-81.326-37.153Z"></path><path fill="#e5e5e5" d="M695.76 583h-524l19-371h82l75.614 53H714.76l-19 318z"></path><path fill="#fff" d="M567.49 469.863 264.623 345.135a4.326 4.326 0 0 1-2.35-5.641L399.508 6.262a4.326 4.326 0 0 1 5.641-2.35L708.014 128.64a4.326 4.326 0 0 1 2.35 5.641L573.13 467.513a4.326 4.326 0 0 1-5.64 2.35Z"></path><path fill="#3f3d56" d="M567.49 469.863 264.623 345.135a4.326 4.326 0 0 1-2.35-5.641L399.508 6.262a4.326 4.326 0 0 1 5.641-2.35L708.014 128.64a4.326 4.326 0 0 1 2.35 5.641L573.13 467.513a4.326 4.326 0 0 1-5.64 2.35ZM404.49 5.51a2.596 2.596 0 0 0-3.384 1.41L263.872 340.153a2.596 2.596 0 0 0 1.41 3.384l302.865 124.729a2.596 2.596 0 0 0 3.385-1.41l137.234-333.232a2.596 2.596 0 0 0-1.41-3.384Z"></path><path fill="#f2f2f2" d="m490.031 168.867-75.117-30.936a4.326 4.326 0 0 1-2.35-5.64L443.5 57.172a4.326 4.326 0 0 1 5.641-2.35l75.117 30.935a4.326 4.326 0 0 1 2.35 5.642l-30.935 75.116a4.326 4.326 0 0 1-5.64 2.35ZM448.482 56.422a2.596 2.596 0 0 0-3.384 1.41l-30.936 75.116a2.596 2.596 0 0 0 1.41 3.385l75.117 30.935a2.596 2.596 0 0 0 3.385-1.41l30.935-75.117a2.596 2.596 0 0 0-1.41-3.384Z"></path><path fill="#245fa6" d="m464.67 169.17-75.116-30.934a3.893 3.893 0 0 1-2.116-5.077l30.936-75.117a3.893 3.893 0 0 1 5.077-2.115l75.117 30.935a3.893 3.893 0 0 1 2.115 5.077l-30.936 75.117a3.893 3.893 0 0 1-5.077 2.115Z"></path><path fill="#ccc" d="m609.355 271.75-234.94-96.755a3.889 3.889 0 1 1 2.962-7.192l234.94 96.755a3.889 3.889 0 0 1-2.962 7.192ZM542.416 273.156l-178.203-73.389a3.889 3.889 0 1 1 2.962-7.192l178.203 73.39a3.889 3.889 0 1 1-2.962 7.191ZM646.073 180.321 542.188 137.54a3.889 3.889 0 1 1 2.962-7.192l103.885 42.782a3.889 3.889 0 0 1-2.962 7.192ZM609.945 194.417l-77.959-32.106a3.889 3.889 0 1 1 2.962-7.192l77.959 32.106a3.889 3.889 0 0 1-2.962 7.192ZM588.951 321.295l-234.94-96.755a3.889 3.889 0 1 1 2.962-7.192l234.94 96.755a3.889 3.889 0 0 1-2.962 7.192ZM522.012 322.701l-178.203-73.388a3.889 3.889 0 1 1 2.962-7.192l178.203 73.388a3.889 3.889 0 1 1-2.962 7.192ZM568.547 370.84l-234.94-96.755a3.889 3.889 0 0 1 2.962-7.192l234.94 96.755a3.889 3.889 0 0 1-2.962 7.192ZM558.345 395.613l-234.94-96.755a3.889 3.889 0 0 1 2.962-7.192l234.94 96.755a3.889 3.889 0 0 1-2.962 7.192Z"></path><path fill="#245fa6" d="M443.73 393.772a84.703 84.703 0 0 0 14.095-.43c4.212-.492 8.6-1.17 12.293-3.385a11.683 11.683 0 0 0 5.82-8.835 8.222 8.222 0 0 0-4.974-8.337 9.809 9.809 0 0 0-9.951 1.394 12.959 12.959 0 0 0-4.45 10.352c.194 8.005 6.527 15.91 13.56 19.24 7.92 3.75 18.737.562 20.765-8.673.422-1.92-2.194-2.588-3.288-1.354a8.72 8.72 0 0 0 12.173 12.448l-2.945-1.212a20.99 20.99 0 0 0 14.438 15.248 19.47 19.47 0 0 0 5.372.819c2.211.006 4.484 1.116 6.6 1.806l15.243 4.966c2.243.73 3.665-2.673 1.405-3.41l-13.806-4.498c-2.301-.75-4.596-1.52-6.904-2.249-1.649-.521-3.455-.239-5.176-.546a17.288 17.288 0 0 1-13.519-12.645 1.866 1.866 0 0 0-2.944-1.212 5.048 5.048 0 0 1-7.022-7.254l-3.288-1.354c-1.308 5.957-8.576 8.193-13.813 6.47-5.858-1.926-10.892-7.533-12.64-13.405a10.81 10.81 0 0 1 .787-8.602 6.443 6.443 0 0 1 6.75-3.307 4.623 4.623 0 0 1 3.95 5.07 8.269 8.269 0 0 1-4.604 6.265c-3.296 1.77-7.244 2.21-10.906 2.611a78.798 78.798 0 0 1-12.573.358c-2.354-.119-2.827 3.542-.448 3.661Z"></path><path fill="#fff" d="M695.76 290v293h-524V237h82l75.61 53h366.39z"></path><path fill="#245fa6" d="M203.76 528h214v17h-214zM203.76 495h107v17h-107z"></path><path fill="#3f3d56" d="M696.76 584h-526V236h83.315l75.615 53h367.07Zm-524-2h522V291H329.058l-75.614-53H172.76Z"></path><path fill="#9f616a" d="m909.144 548.636-17.73 6.336-32.879-65.374 26.169-9.352 24.44 68.39z"></path><path fill="#2f2e41" d="m862.638 584.638-.258-.723a23.659 23.659 0 0 1 14.3-30.206l34.918-12.479 8.212 22.977Z"></path><path fill="#9f616a" d="M793.848 566.172h-18.829l-8.957-72.626 27.789.001-.003 72.625z"></path><path fill="#2f2e41" d="m798.65 584.424-60.713-.002v-.768a23.63 23.63 0 0 1 23.632-23.63h.001l37.08.001Z"></path><path fill="#245fa6" d="m836.76 102.186-8.19-16.18s-30.505 7.643-33.278 25.323Z"></path><path fill="#2f2e41" d="m870.547 287.198-22.269 124.269 59.129 104.569-35.324 13.822-59.897-101.364-7.679-27.645-4.608 144.367-31.857-.967-14.607-134.804 23.427-125.318 93.685 3.071z"></path><path fill="#3f3d56" d="m865.938 231.055-.77-72.871c0-30.884-20.326-53.648-23.143-55.753-1.326-4.231-3.705-7.156-7.068-8.686-6.776-3.071-15.062.614-15.413.78l-24.859 9.32-.117.34c-.263.78-25.346 83.089-31.644 103.746-.897 2.964-1.414 4.66-1.414 4.66s.098 4.777.273 12.205c.556 25.542 1.872 82.435 2.398 84.824 0 0 45.917 6.96 64.098 6.96 32.707 0 53.482-6.258 53.95-6.366l.75-.156Z"></path><circle cx="927.137" cy="204.303" r="33.608" fill="#9f616a" transform="rotate(-28.663 557.875 368.481)"></circle><path d="m806.861 215.633-45.078 9.163c-.175-7.428-.273-12.205-.273-12.205s.517-1.696 1.414-4.66Z" opacity=".2"></path><path fill="#9f616a" d="M673.37 206.027a14.422 14.422 0 0 0 21.815-3.63l50.248 10.094-9.996-24.686-46.184-5.801a14.5 14.5 0 0 0-15.884 24.023Z"></path><path fill="#245fa6" d="m732.887 186.321-18.099-2.501-6.037 25.148 22.848 1.308 1.288-23.955z"></path><path fill="#3f3d56" d="m726.697 181.474 53.553-5.94 28.412-50.409a24.62 24.62 0 0 1 45.276 18.29l-.164.626-47.76 69.683-89.302 4.405Z"></path><path fill="#2f2e41" d="m831.763 76.483-27.895 1.001c-1.7.061-6.315-18.29-6.919-22.096a10.39 10.39 0 0 0-10.838-8.405c-2.088.197-7.353-3.704-12.787-8.323-10.315-8.77-9.779-25.241 1.553-32.652q.464-.304.912-.555c7.148-4 15.51-5.344 23.702-5.447 7.426-.093 15.062.842 21.604 4.357 11.729 6.3 17.97 20.07 18.519 33.373s-3.717 26.31-8.556 38.714"></path><path fill="#cbcbcb" d="M951 586H1a1 1 0 0 1 0-2h950a1 1 0 0 1 0 2Z"></path>',29),K=[j];function R(s,o){return p(),u("svg",J,K)}const U={render:R},T={},D={class:"bg-white max-md:hidden flex items-center justify-center"},G=t("img",{src:U,alt:"login-image",class:"object-cover p-14 filter fill-red-500"},null,-1),Q=[G];function W(s,o){return p(),u("div",D,Q)}const X=M(T,[["render",W]]),Y=s=>s.split("@")[1]==="postgradounap.edu.pe",i="blur",e1={email:[{required:!0,message:"Por favor ingrese su correo electrónico",trigger:i},{type:"email",message:"Por favor ingrese un correo electrónico válido",trigger:i},{validator:(s,o,e)=>{Y(o)?e():e(new Error("Por favor ingrese un correo electrónico institucional"))},trigger:i}],password:[{required:!0,message:"Por favor ingrese su contraseña",trigger:i},{min:6,message:"La contraseña debe tener al menos 6 caracteres",trigger:i}]},a1=async s=>{try{const{login:o}=z.routes.get().desk,{data:e}=await N.post(o,s),a="deskpart";return localStorage.setItem(`${a}_token`,e.token),localStorage.setItem(`${a}_groups`,JSON.stringify(e.groups)),localStorage.setItem(`${a}_user`,JSON.stringify(e.user)),localStorage.setItem(`${a}_person`,JSON.stringify(e.person)),localStorage.setItem(`${a}_area`,JSON.stringify(e.area)),d.user.set(e.user),d.token.set(e.token),d.person.set(e.person),d.area.set(e.area),m.success(`Bienvenido ${e.person.nombres}`),!0}catch{return m.error("No se pudo iniciar sesión"),!1}},t1=t("div",{class:"flex flex-col gap-1 mb-10"},[t("h3",{class:"text-[22px] text-start font-medium"},"Iniciar Sesión"),t("p",{class:"text-base text-start"},"para acceder a Tramite Documentario")],-1),o1=t("a",{href:"/",class:"primary-color text-button text-sm hover:underline"}," ¿Olvido la contraseña? ",-1),s1=y({__name:"loginForm",setup(s){const o=P(),e=Z(),a=k({}),f=Z(!1),g=async()=>{e.value.validate(async x=>{if(!x){m.error("Por favor, rellene los campos correctamente");return}f.value=!0;const n=await a1(a);f.value=!1,n&&o.push(I.Home)})};return(x,n)=>{const $=q,v=C,h=A,L=B,S=F;return p(),w(S,{class:"text-center",model:r(a),rules:r(e1),ref_key:"form",ref:e,"label-position":"top"},{default:c(()=>[l($),t1,l(h,{prop:"email",label:"Correo Electrónico Institucional"},{default:c(()=>[l(v,{autocomplete:"off",placeholder:"usuario@postgradounap.edu.pe",size:"large",modelValue:r(a).email,"onUpdate:modelValue":n[0]||(n[0]=_=>r(a).email=_)},null,8,["modelValue"])]),_:1}),l(h,{prop:"password",label:"Contraseña"},{default:c(()=>[l(v,{modelValue:r(a).password,"onUpdate:modelValue":n[1]||(n[1]=_=>r(a).password=_),type:"password",placeholder:"Contraseña",size:"large",onKeyup:E(g,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),l(h,null,{default:c(()=>[l(L,{loading:r(f),type:"primary",color:"#245FA6",size:"large",class:"w-full",onClick:g},{default:c(()=>[b("Iniciar Sesión")]),_:1},8,["loading"])]),_:1}),o1]),_:1},8,["model","rules"])}}});const l1={},r1={class:"container-center"},n1={class:"md:w-[890px] md:h-[456px]"},c1={class:"bg-white shadow-lg"},i1={class:"flex w-full"},p1=t("div",{class:"p-5 flex flex-col gap-2 text-[#555F71] md:text-sm md:text-center max-md:text-center max-md:text-sm"},[t("p",null,[b("¿No tiene acceso a su cuenta? "),t("a",{href:"/",class:"text-button"},"Comunícate con soporte")]),t("p",null,"© 2023, Escuela de Postgrado UNAP. Reservados todos los derechos.")],-1);function d1(s,o){const e=s1,a=X;return p(),u("div",r1,[t("div",n1,[t("div",c1,[t("div",i1,[l(e,{class:"flex-1 border-r p-12"}),l(a,{class:"flex-1"})])])]),p1])}const f1=M(l1,[["render",d1]]),u1=y({__name:"LoginPage",setup(s){return H(()=>{O()}),(o,e)=>{const a=f1;return p(),w(a)}}});export{u1 as default};
