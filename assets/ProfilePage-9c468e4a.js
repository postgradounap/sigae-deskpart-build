import{a as w,u as x,A as g,k as I,d as Y,m as _,c as p,j as v,o as $,b as y,e as A,g as e,f as c,h as o,w as h,B as E,x as M,s as N,C as S,p as V,D as B,F as R,_ as k,i as F}from"./index-c8cf5234.js";/* empty css                     *//* empty css                 */const z=async a=>{try{const s=new FormData;s.append("foto",a);const i=w.routes.get().person.change_profile_image;await x.post(i,s,{headers:{"Content-Type":"multipart/form-data"}})}catch(s){console.log(s)}},L=a=>{const s=a.split("/");return s.length===3?`${s[0]}-${s[1]}-${s[2]}`:a},T=async(a,s)=>{try{a.fecha_nacimiento=L(a.fecha_nacimiento);const i={...a};delete i.foto;const d=w.routes.get().person.update.replace("id",a.id.toString());await x.put(d,i),s&&await z(s),g(),I.success("Registro actualizado correctamente")}catch(i){console.log(i)}},r=a=>(B("data-v-14c0070b"),a=a(),R(),a),G={class:"w-full h-full bg-white rounded-lg overflow-y-auto epgScroll"},O={class:"w-1/2 m-auto"},q={class:"relative w-full h-52 rounded-lg px-5 flex items-center bg-gradient-to-b from-white via-gray-50 to-gray-100"},H={class:"absolute botom-0 -mb-64 bg-white ml-5 rounded-full opacity-90"},J={class:"bg-transparent flex rounded-full"},K=r(()=>e("div",null,[e("i",{class:"fas fa-camera"}),V(" Cambiar foto ")],-1)),Q={class:"w-full flex pt-5 justify-between"},W=r(()=>e("div",null,null,-1)),X={class:"mt-10 w-[90%] h-72 p-3 rounded flex flex-col gap-10"},Z={class:"flex w-full items-center text-sm justify-between text-black"},ee=r(()=>e("span",{class:"profile_label"},"Número de documento ",-1)),te={class:"profile_input"},le={class:"flex w-full items-center text-sm justify-between text-black"},oe=r(()=>e("span",{class:"profile_label"},"Nombres ",-1)),se={class:"profile_input"},ae={class:"flex w-full items-center text-sm justify-between text-black"},ne=r(()=>e("span",{class:"profile_label"},"Apellido Paterno ",-1)),ie={class:"profile_input"},ce={class:"flex w-full items-center text-sm justify-between text-black"},re=r(()=>e("span",{class:"profile_label"},"Apellido Materno ",-1)),de={class:"profile_input"},ue={class:"flex w-full items-center text-sm justify-between text-black"},_e=r(()=>e("span",{class:"profile_label"},"Fecha de Nacimiento ",-1)),pe={class:"profile_input"},fe={class:"flex w-full items-center text-sm justify-between text-black"},me=r(()=>e("span",{class:"profile_label"},"Correo Electrónico",-1)),be={class:"profile_input"},ve={class:"flex w-full items-center text-sm justify-between text-black pb-5"},he=r(()=>e("span",{class:"profile_label"},"Celular",-1)),we={class:"profile_input"},xe=Y({__name:"index",setup(a){const s=_(!1),i=_(""),d=_(),t=p(()=>v.person.get()),f=p(()=>v.user.get()),j=p(()=>{if(t.value.nombres&&t.value.apellido_paterno&&t.value.apellido_materno)return`${t.value.nombres[0]}${t.value.apellido_paterno[0]}${t.value.apellido_materno[0]}`}),C=()=>{s.value=!0,T(t.value,d.value.files[0]),s.value=!1},D=()=>{if(!d.value.files[0])return;const m=d.value.files[0],l=new FileReader;l.readAsDataURL(m),l.onload=()=>{i.value=l.result}};return $(async()=>{await g(),i.value=t.value.foto||""}),(m,l)=>{const P=E,b=M,u=N,U=S;return y(),A("div",G,[e("div",O,[e("div",q,[c(P,{class:"absolute border-white border-4 bottom-0 -mb-16",size:150,src:o(i),text:o(j)},null,8,["src","text"]),e("div",H,[e("div",J,[c(b,{size:"small",text:"",onClick:l[0]||(l[0]=n=>o(d).click())},{default:h(()=>[K]),_:1})]),e("input",{type:"file",class:"hidden",accept:".png, .jpg, .jpeg, .jfif",ref_key:"fotoRef",ref:d,onChange:D},null,544)])]),e("div",Q,[W,e("div",null,[c(b,{loading:o(s),type:"primary",onClick:C},{default:h(()=>[V(" Guardar cambios ")]),_:1},8,["loading"])])]),e("div",X,[e("div",Z,[ee,e("div",te,[c(u,{class:"w-full",disabled:"",modelValue:o(t).numero_documento,"onUpdate:modelValue":l[1]||(l[1]=n=>o(t).numero_documento=n)},null,8,["modelValue"])])]),e("div",le,[oe,e("div",se,[c(u,{class:"w-full",modelValue:o(t).nombres,"onUpdate:modelValue":l[2]||(l[2]=n=>o(t).nombres=n)},null,8,["modelValue"])])]),e("div",ae,[ne,e("div",ie,[c(u,{class:"w-full",modelValue:o(t).apellido_paterno,"onUpdate:modelValue":l[3]||(l[3]=n=>o(t).apellido_paterno=n)},null,8,["modelValue"])])]),e("div",ce,[re,e("div",de,[c(u,{class:"w-full",modelValue:o(t).apellido_materno,"onUpdate:modelValue":l[4]||(l[4]=n=>o(t).apellido_materno=n)},null,8,["modelValue"])])]),e("div",ue,[_e,e("div",pe,[c(U,{modelValue:o(t).fecha_nacimiento,"onUpdate:modelValue":l[5]||(l[5]=n=>o(t).fecha_nacimiento=n),type:"date",style:{width:"100%"},placeholder:"dia-mes-año","value-format":"YYYY-MM-DD",format:"DD-MM-YYYY"},null,8,["modelValue"])])]),e("div",fe,[me,e("div",be,[c(u,{class:"w-full",modelValue:o(f).email,"onUpdate:modelValue":l[6]||(l[6]=n=>o(f).email=n),disabled:""},null,8,["modelValue"])])]),e("div",ve,[he,e("div",we,[c(u,{class:"w-full",modelValue:o(t).celular,"onUpdate:modelValue":l[7]||(l[7]=n=>o(t).celular=n)},null,8,["modelValue"])])])])])])}}});const ge=k(xe,[["__scopeId","data-v-14c0070b"]]),ye={};function Ve(a,s){const i=ge;return y(),F(i)}const De=k(ye,[["render",Ve]]);export{De as default};
